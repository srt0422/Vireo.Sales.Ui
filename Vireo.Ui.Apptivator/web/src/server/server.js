!function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t){e.exports=babel-runtime/regenerator},function(e,t){e.exports=babel-runtime/helpers/asyncToGenerator},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(0),a=r(u),o=n(4),c=r(o),s=n(1),i=r(s),l=n(12),f=r(l),p=n(13),d=r(p),h=n(14),v=r(h),b=v.default,x=function(){function e(t){(0,f.default)(this,e),this.name=t}return(0,d.default)(e,[{key:"save",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,i.default)(a.default.mark(function e(t){var n,r=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connect(this.name);case 2:return e.next=4,new c.default(function(e,n){try{r.source.insertOne(t,r.getInsertCallback(e,n))}catch(e){n(new Error(e))}});case 4:return n=e.sent,e.next=7,this.dispose();case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"get",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,i.default)(a.default.mark(function e(t){var n,r=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connect(this.name);case 2:return e.next=4,new c.default(function(e,n){try{return r.source.findOne({id:t},r.getFetchCallback(e,n))}catch(e){n(new Error(e))}});case 4:return n=e.sent,e.next=7,this.dispose();case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"getAll",value:function(){function e(){return t.apply(this,arguments)}var t=(0,i.default)(a.default.mark(function e(){var t,n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connect(this.name);case 2:return e.next=4,new c.default(function(e,t){try{return n.source.find().toArray(function(n,r){n?t(new Error(n)):e(r)})}catch(e){t(e)}});case 4:return t=e.sent,e.next=7,this.dispose();case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"getInsertCallback",value:function(e,t){return function(n,r){n?t(new Error(n)):e(r.insertedId)}}},{key:"getFetchCallback",value:function(e,t){return function(n,r){n?t(new Error(n)):e(r)}}},{key:"dispose",value:function(){this.dataSource&&this.dataSource.close()}},{key:"connect",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.connect();case 3:n=e.sent,this.source=n.collection(t),this.dataSource&&this.dataSource.close(),this.dataSource=n,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,c.default.reject(new Error(e.t0));case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return e}()}]),e}();t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=new u.default("customers")},function(e,t){e.exports=babel-runtime/core-js/promise},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=new u.default("charges")},function(e,t,n){n(7),e.exports=n(8)},function(e,t){e.exports=babel-polyfill},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var u=n(0),a=r(u),o=n(1),c=r(o),s=n(9),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),l=n(10),f=r(l),p=n(16),d=new i.Server;process.env.PORT?d.connection({port:process.env.PORT}):d.connection({port:process.env.PORT||3001,host:process.env.HOST||"localhost"}),d.register([{register:n(18),options:{headers:["Accept","Authorization","Content-Type","If-None-Match","Accept-Language","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","DNT","Connection","Host","Origin","Refferer","User-Agent"],origins:["http://localhost:3000"]}},{register:n(19),options:{handlerName:"await"}}],function(e){d.start(function(e){if(e)throw e;console.log("Server running at: "+d.info.uri)})}),d.route({method:"POST",path:"/api/appContents",handler:{await:function(){function e(e,n){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.appContentsCollection.save(t.payload);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 8:return e.abrupt("return",n().code(201));case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return e}()}}),d.route({method:"GET",path:"/api/appContents",handler:{await:function(){function e(e,n){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.appContentsCollection.getAll();case 3:return r=e.sent,console.log(r),e.abrupt("return",n(r));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 11:return e.abrupt("return",n().code(201));case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return e}()}}),d.route({method:"POST",path:"/api/payments",handler:{await:function(){function e(e,n){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.default.makePayment(t.payload.token,t.payload.email);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 8:return e.abrupt("return",n().code(201));case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return e}()}}),d.route({method:"GET",path:"/api/payments",handler:{await:function(){function e(e,n){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.chargesCollection.getAll();case 2:return r=e.sent,console.log(r),e.abrupt("return",n(r));case 5:case"end":return e.stop()}},e,this)}));return e}()}}),d.route({method:"GET",path:"/api/customers",handler:{await:function(){function e(e,n){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.customersCollection.getAll();case 2:return r=e.sent,console.log(r),e.abrupt("return",n(r));case 5:case"end":return e.stop()}},e,this)}));return e}()}})},function(e,t){e.exports=hapi},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),a=r(u),o=n(1),c=r(o),s=n(11),i=n(3),l=r(i),f=n(5),p=r(f),d=new s.Stripe("sk_test_OHx1Z0IcyDglKviPsmA8ZEtQ");t.default={makePayment:function(){function e(e,n){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(t,n){var r,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.customers.create({email:n,source:t});case 3:return r=e.sent,l.default.save(r),e.next=7,d.charges.create({amount:100,currency:"usd",customer:r.id});case 7:u=e.sent,p.default.save(u),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return e}()}},function(e,t){e.exports=stripe},function(e,t){e.exports=babel-runtime/helpers/classCallCheck},function(e,t){e.exports=babel-runtime/helpers/createClass},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),u=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(15),o=null;t.default={connect:function(){return new u.default(function(e,t){try{a.MongoClient.connect("mongodb://40.78.96.177:27017/apptivator",function(n,r){n&&t(n),o=r,e(r)})}catch(e){t(new Error(e))}})},disconnect:function(){o&&(o.close(),o=null)}}},function(e,t){e.exports=mongodb},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3);Object.defineProperty(t,"customersCollection",{enumerable:!0,get:function(){return r(u).default}});var a=n(5);Object.defineProperty(t,"chargesCollection",{enumerable:!0,get:function(){return r(a).default}});var o=n(17);Object.defineProperty(t,"appContentsCollection",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=new u.default("appContents")},function(e,t){e.exports=hapi-cors},function(e,t){e.exports=overjoy-await}]);